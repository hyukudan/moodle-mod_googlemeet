{{!
  This file is part of Moodle - http://moodle.org/

  Moodle is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Moodle is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
  @template mod_googlemeet/upcomingevents

  Example context (json):
  {
    "hasupcomingevents": true,
    "upcomingevents": [
      {
        "today": true,
        "startdate": "Tue. 17 Nov. 2024",
        "starttime": "09:00",
        "endtime": "10:00",
        "islive": false,
        "issoon": true,
        "isscheduled": false,
        "iscancelled": false,
        "status": "soon",
        "timeinfo": "Starts in 25 min",
        "cancelledreason": ""
      }
    ],
    "hasliveevent": false
  }
}}
<div id="googlemeet_upcoming_events" class="googlemeet-events-container">
  <h4 class="googlemeet-section-title">{{# str }} upcomingevents, mod_googlemeet {{/ str }}</h4>

  {{#hasupcomingevents}}
    <div class="googlemeet-events-list">
      {{#upcomingevents}}
        <div class="googlemeet-event-card googlemeet-event-{{status}}">
          <div class="googlemeet-event-status">
            {{#iscancelled}}
              <span class="googlemeet-badge googlemeet-badge-cancelled">
                {{# str }} event_status_cancelled, mod_googlemeet {{/ str }}
              </span>
            {{/iscancelled}}
            {{^iscancelled}}
              {{#islive}}
                <span class="googlemeet-badge googlemeet-badge-live">
                  <span class="googlemeet-pulse"></span>
                  {{# str }} event_status_live, mod_googlemeet {{/ str }}
                </span>
              {{/islive}}
              {{#issoon}}
                <span class="googlemeet-badge googlemeet-badge-soon">
                  {{# str }} event_status_soon, mod_googlemeet {{/ str }}
                </span>
              {{/issoon}}
              {{#isscheduled}}
                <span class="googlemeet-badge googlemeet-badge-scheduled">
                  {{# str }} event_status_scheduled, mod_googlemeet {{/ str }}
                </span>
              {{/isscheduled}}
            {{/iscancelled}}
          </div>

          <div class="googlemeet-event-details{{#iscancelled}} googlemeet-event-cancelled-details{{/iscancelled}}">
            <div class="googlemeet-event-datetime">
              <div class="googlemeet-event-date">
                {{#today}}
                  <strong>{{# str }} today, mod_googlemeet {{/ str }}</strong>
                {{/today}}
                {{^today}}
                  {{startdate}}
                {{/today}}
              </div>
              <div class="googlemeet-event-time">
                {{starttime}} - {{endtime}}
              </div>
            </div>

            <div class="googlemeet-event-countdown">
              {{#iscancelled}}
                {{#cancelledreason}}
                  <span class="googlemeet-cancelled-reason">{{cancelledreason}}</span>
                {{/cancelledreason}}
              {{/iscancelled}}
              {{^iscancelled}}
                {{timeinfo}}
              {{/iscancelled}}
            </div>
          </div>
        </div>
      {{/upcomingevents}}
    </div>
  {{/hasupcomingevents}}

  {{^hasupcomingevents}}
    <div class="googlemeet-no-events">
      <p>{{# str }} event_no_upcoming, mod_googlemeet {{/ str }}</p>
    </div>
  {{/hasupcomingevents}}
</div>
